!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.t7=n():e.t7=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var l=t[r]={exports:{},id:r,loaded:!1};return e[r].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n,t,r){var l=[],a=0,s=0,o=null;if(null!=e.children&&e.children instanceof Array){for(a=0,s=e.children.length;s>a;a++)null!=e.children[a]&&("string"==typeof e.children[a]?(e.children[a]=e.children[a].replace(/(\r\n|\n|\r)/gm,""),o=e.children[a].match(/__\$props__\[\d*\]/g),null!==o?l.push(e.children[a]):l.push("'"+e.children[a]+"'")):p(e.children[a],l,r));1===l.length?n.push((t?"children: ":"")+l):l.length>1&&n.push((t?"children: ":"")+"["+l.join(",")+"]")}else null!=e.children&&"string"==typeof e.children&&(e.children=e.children.replace(/(\r\n|\n|\r)/gm,"").trim(),o=e.children.match(/__\$props__\[\d*\]/g),null!==o&&(e.children=e.children.replace(/(__\$props__\[.*\])/g,"',$1,'")),",'"===e.children.substring(e.children.length-2)?(e.children=e.children.substring(0,e.children.length-2),n.push((t?"children: ":"")+"['"+e.children+"]")):n.push((t?"children: ":"")+"['"+e.children+"']"))}function n(e,t,l,p,s,o){var u,i=l?l+"_":"n_",c=null,h="";if(e.children instanceof Array)for(var f=0;f<e.children.length;f++)if(c=e.children[f],"string"==typeof c&&1===e.children.length)u=c.match(/__\$props__\[\d*\]/g),null===u?l?s.push(l+".textContent='"+c+"';"):s.push("root.textContent=('"+c+"');"):(h="fragment.templateValues["+t.index+"]",s.push("if(typeof "+h+" !== 'object') {"),l?s.push(l+".textContent=("+h+" === '' ? ' ' : "+h+");"):s.push("root.textContent="+h+";"),s.push("fragment.templateTypes["+t.index+"] = Inferno.Type.TEXT;"),s.push("} else {"),s.push("fragment.templateTypes["+t.index+"] = ("+h+".constructor === Array ? Inferno.Type.LIST : Inferno.Type.FRAGMENT);"),s.push("}"),l?s.push("fragment.templateElements["+t.index+"] = "+l+";"):s.push("fragment.templateElements["+t.index+"] = root;"),p.push(c),t.index++);else if("string"==typeof c&&e.children.length>1)u=c.match(/__\$props__\[\d*\]/g),null===u?s.push("var "+i+f+" = Inferno.dom.createText('"+c.replace(/(\r\n|\n|\r)/gm,"")+"');"):(h="fragment.templateValues["+t.index+"]",s.push("var "+i+f+";"),s.push("if(typeof "+h+" !== 'object') {"),s.push(i+f+" = Inferno.dom.createText("+h+");"),s.push("fragment.templateTypes["+t.index+"] = Inferno.Type.TEXT_DIRECT;"),s.push("} else {"),s.push(i+f+" = Inferno.dom.createEmpty();"),s.push("fragment.templateTypes["+t.index+"] = ("+h+".constructor === Array ? Inferno.Type.LIST_REPLACE : Inferno.Type.FRAGMENT_REPLACE);"),s.push("}"),s.push("fragment.templateElements["+t.index+"] = "+i+f+";"),p.push(c),t.index++),l?s.push(l+".appendChild("+i+f+");"):s.push("root.appendChild("+i+f+");");else if(null!=c&&c.tag)if(a(c.tag)===!0){t.t7Required=!0;var d=[],m=[];c.attrs&&r(c,i+f,d,p,s,t,m),s.push("var "+i+f+" = Inferno.dom.createComponent("+(l?l:"root")+", t7.loadComponent('"+c.tag+"'), {"+d.join(",")+"});"),s.push(m.join(""))}else{if(s.push("var "+i+f+" = Inferno.dom.createElement('"+c.tag+"');"),c.attrs){var g=[];r(c,i+f,g,p,s,t),s.push("Inferno.dom.addAttributes("+i+f+", {"+g.join(",")+"});")}c.children&&n(c,t,i+f,p,s,o),l?s.push(l+".appendChild("+i+f+");"):s.push("root.appendChild("+i+f+");")}}function t(e,n,t,r){var l=[],a=0,s=0,o=null;if(null!=e.children&&e.children instanceof Array){for(a=0,s=e.children.length;s>a;a++)null!=e.children[a]&&("string"==typeof e.children[a]?(e.children[a]=e.children[a].replace(/(\r\n|\n|\r)/gm,""),o=e.children[a].match(/__\$props__\[\d*\]/g),null!=o?(e.children[a]=e.children[a].replace(/(__\$props__\[[0-9]*\])/g,"$1"),","===e.children[a].substring(e.children[a].length-1)&&(e.children[a]=e.children[a].substring(0,e.children[a].length-1)),l.push(e.children[a])):l.push("'"+e.children[a]+"'")):p(e.children[a],l,a===e.children.length-1,r));l.length>0&&n.push(l.join(","))}else null!=e.children&&"string"==typeof e.children&&(e.children=e.children.replace(/(\r\n|\n|\r)/gm,""),n.push("'"+e.children+"'"))}function r(e,n,t,r,l,a,p){var s,o="",u=null;for(var i in e.attrs)if(o=e.attrs[i],u=o.match(/__\$props__\[\d*\]/g),null===u)t.push("'"+i+"':'"+o+"'");else{if(s="fragment.templateValues["+a.index+"]",p)l.push("if(Inferno.Type.COMPONENT_PROPS."+i+" === undefined) { Inferno.Type.COMPONENT_PROPS."+i+" = '"+i+"'; }"),l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.COMPONENT_PROPS."+i+";"),p.push("fragment.templateElements["+a.index+"] = "+n+";");else{switch(i){case"class":case"className":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_CLASS;");break;case"id":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_ID;");break;case"value":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_VALUE;");break;case"width":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_WIDTH;");break;case"height":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_HEIGHT;");break;case"type":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_TYPE;");break;case"name":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_NAME;");break;case"href":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_HREF;");break;case"disabled":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_DISABLED;");break;case"checked":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_CHECKED;");break;case"selected":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_SELECTED;");break;case"label":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_LABEL;");break;case"style":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_STYLE;");break;case"placeholder":l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_PLACEHOLDER;");break;default:l.push("if(Inferno.Type.ATTR_OTHER."+i+" === undefined) { Inferno.Type.ATTR_OTHER."+i+" = '"+i+"'; }"),l.push("fragment.templateTypes["+a.index+"] = Inferno.Type.ATTR_OTHER."+i+";")}l.push("fragment.templateElements["+a.index+"] = "+n+";")}t.push("'"+i+"':"+s),r.push(o),a.index++}}function l(e,n){var t="",r=null;for(var l in e.attrs)t=e.attrs[l],r=t.match(/__\$props__\[\d*\]/g),null===r?n.push("'"+l+"':'"+t+"'"):n.push("'"+l+"':"+t)}function a(e){return e[0]===e[0].toUpperCase()?!0:!1}function p(p,s,o,u){var i=[],c=[];if(p instanceof Array);else if(_===d.Outputs.Universal||_===d.Outputs.Mithril)if(null!=p.tag)if(a(p.tag)===!1)s.push("{tag: '"+p.tag+"'"),null!=p.key&&i.push("key: "+p.key),null!=p.attrs&&(l(p,c),i.push("attrs: {"+c.join(",")+"}")),e(p,i,!0,o),s.push(i.join(",")+"}");else{if(("undefined"!=typeof window&&o===window||null==o)&&T===!1)throw new Error("Error referencing component '"+p.tag+"'. Components can only be used when within modules. See documentation for more information on t7.module().");_===d.Outputs.Universal?(l(p,c),s.push("__$components__."+p.tag+"({"+c.join(",")+"})")):_===d.Outputs.Mithril&&(l(p,c),s.push("m.component(__$components__."+p.tag+",{"+c.join(",")+"})"))}else s.push("'"+p+"'");else if(_===d.Outputs.Inferno){var f=p.key;void 0===p.key&&(f=null);var g="null",o=null,y=null,E=[],x={index:0,t7Required:!1},v=[];if(a(p.tag)===!0?(l(p,c),o="__$components__."+p.tag,y=" {"+c.join(",")+"}"):(E.push("var root = Inferno.dom.createElement('"+p.tag+"');"),p.attrs&&(r(p,"root",c,v,E,x),E.push("Inferno.dom.addAttributes(root, {"+c.join(",")+"});"))),p.children.length>0){n(p,x,null,v,E,o),E.push("fragment.dom = root;");var I=E.join("\n");1===v.length&&(I=I.replace(/fragment.templateValues\[0\]/g,"fragment.templateValue"),I=I.replace(/fragment.templateElements\[0\]/g,"fragment.templateElement"),I=I.replace(/fragment.templateTypes\[0\]/g,"fragment.templateType")),m===!0?h('t7._templateCache["'+u+'"]=function(fragment, t7){"use strict";\n'+I+"}",u):d._templateCache[u]=new Function('"use strict";var fragment = arguments[0];var t7 = arguments[1];\n'+I),d._templateCache[u].key=u,g='t7._templateCache["'+u+'"]'}var A="";1===v.length?A="templateValue: "+v[0]+", templateElements: null, templateTypes: null, t7ref: t7":v.length>1&&(A="templateValues: ["+v.join(", ")+"], templateElements: Array("+v.length+"), templateTypes: Array("+v.length+"), t7ref: t7"),null!==o?s.push("{dom: null, component: "+o+", props: "+y+", key: "+f+", template: "+g+(p.children.length>0?", "+A:"")+"}"):s.push("{dom: null, key: "+f+", template: "+g+(p.children.length>0?", "+A:"")+"}")}else if(_===d.Outputs.React)if(null!=p.tag){if(a(p.tag)===!0){if(("undefined"!=typeof window&&o===window||null==o)&&T===!1)throw new Error("Error referencing component '"+p.tag+"'. Components can only be used when within modules. See documentation for more information on t7.module().");s.push("React.createElement(__$components__."+p.tag)}else s.push("React.createElement('"+p.tag+"'");null!=p.attrs?(l(p,c),null!=p.key&&c.push("'key':"+p.key),i.push("{"+c.join(",")+"}")):i.push("null"),t(p,i,!0,o),s.push(i.join(",")+")")}else p=p.replace(/(\r\n|\n|\r)/gm,"\\n"),s.push("'"+p+"'")}function s(e,n,t){var r=0,l=e.split(/(__\$props__\[\d*\])/g);for(r=0;r<l.length;r++)""!==l[r].trim()&&n.children.push(l[r]);return e=null}function o(e){return e.indexOf("'")>-1&&(e=e.replace(/'/g,"\\'")),e}function u(e,n){for(var t=0,r=/__\$props__\[([0-9]*)\]/,l=e.match(/__\$props__\[([0-9]*)\]/g),a=0;a<l.length;a++)t=r.exec(l[a])[1],e=e.replace(l[a],n[t]);return e}function i(e,n){var t="",r="",l=0,a=0,p=null,i=!1,h="",f="",d=null,m="",g=null,_=null,T=!1;for(l=0,a=e.length;a>l;l++)if(t=e[l],"<"===t)i=!0;else if(">"===t&&i===!0){if("/"===h[0]){if(h!=="/"+g.tag&&!E[g.tag]&&!g.closed)throw console.error("Template error: "+u(e,n)),new Error("Expected corresponding t7 closing tag for '"+g.tag+"'.");""!==m.trim()&&(m=o(m),m=s(m,g,!0),null!==m&&0===g.children.length?g.children=m:null!=m&&g.children.push(m)),g=g.parent,g&&(g.closed=!0)}else{if(m.trim().length>0&&!(g instanceof Array)&&(m=o(m),m=s(m.replace(/(\r\n|\n|\r)/gm,""),g),g.children.push(m),m=""),-1===h.indexOf(" ")?(_={},f=h):(_=c(h),f=_.tag),d={tag:f,attrs:_&&_.attrs?_.attrs:null,children:[],closed:"/"===h[h.length-1]||E[f]?!0:!1},_&&_.key&&(d.key=_.key),null===g){if(T===!0)throw new Error("t7 templates must contain only a single root element");T=!0,p=null===p&&d.closed===!1?g=d:d}else g instanceof Array?g.push(d):g.children.push(d);E[f]||d.closed!==!1||(g===d?d.parent=null:d.parent=g,g=d)}i=!1,h="",m=""}else i===!0?(h+=t,r=t):(m+=t,r=t);return p}function c(e){var n=[],t="",r="",l=0,a=0,p=0,s=0,o="",u=!1,i=[],c={},h="";for(l=0,p=e.length;p>l;l++)t=e[l]," "===t&&u===!1?(n.push(o),o=""):"'"===t?u===!1?u=!0:(u=!1,n.push(o),o=""):'"'===t?u===!1?u=!0:(u=!1,n.push(o),o=""):o+=t;for(""!==o&&n.push(o),o="",l=1,p=n.length;p>l;l++){for(i=[],r="",o="",a=0,s=n[l].length;s>a;a++)t=n[l][a],"="===t?(i.push(o),o=""):(o+=t,r=t);if(""!=o&&i.push(o),i.length>1){var f=i[1].match(/__\$props__\[\d*\]/g);null!==f?c[i[0]]=i[1]:"key"===i[0]?h=i[1]:c[i[0]]=i[1]}}return{tag:n[0],attrs:c,key:h}}function h(e,n){var t=e+"\n//# sourceURL="+n,r=document.createElement("script");r.textContent=t,g.appendChild(r)}function f(e){var n,t,r,l=0;if(0==e.length)return e;for(n=0,r=e.length;r>n;n++)t=e.charCodeAt(n),l=(l<<5)-l+t,l|=0;return l}function d(e){for(var n=null,t=1,r=arguments.length,l=null,a=null,s="",o=null,u=e[0],c=[].slice.call(arguments,1);r>t;t++)u+=e[t];if(o=f(u),null==d._cache[o]){for(n="",t=0,r=e.length;r>t;t++)n+=t===e.length-1?e[t]:e[t]+"__$props__["+t+"]";if(l=[],p(i(n,c),l,this,o),s=l.join(","),T===!0)return _===d.Outputs.Inferno?{templateKey:o,inlineObject:s}:{templateKey:o,template:"return "+s};m===!0?(a='t7._cache["'+o+'"]=function(__$props__, __$components__, t7)',a+='{"use strict";return '+s+"}",h(a,o)):d._cache[o]=new Function('"use strict";var __$props__ = arguments[0];var __$components__ = arguments[1];var t7 = arguments[2];return '+s)}return d._cache[o](c,this,d)}var m="undefined"!=typeof window&&null!=document,g=null,_=null,T=!1,y="0.3.0";m===!0&&(g=document.getElementsByTagName("head")[0]);var E={area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0};return d._cache={},d._templateCache={},d.Outputs={React:1,Universal:2,Inferno:3,Mithril:4},d.getTemplateCache=function(e){return d._templateCache[e]},d.getOutput=function(){return _},d.setPrecompile=function(e){T=e},d.getVersion=function(){return y},d["if"]=function(e,n){return e?{"else":function(){return n()}}:{"else":function(e){return e()}}},d.setOutput=function(e){_=e},d.clearCache=function(){d._cache={},d._templateCache={}},d.assign=function(e){throw new Error("Error assigning component '"+e+"'. You can only assign components from within a module. Please check documentation for t7.module().")},d.module=function(e){var n={},t=function(){return d.apply(n,arguments)};t.assign=function(e,t){if(2===arguments.length)n[e]=t;else for(var r in e)n[r]=e[r]},t.loadComponent=function(e){return n[e]},t["if"]=d["if"],t.Outputs=d.Outputs,t.clearCache=d.clearCache,t.setOutput=d.setOutput,t.getOutput=d.getOutput,t.precompile=d.precompile,e(t)},d.precompile=function(){},_="undefined"!=typeof React?d.Outputs.React:"undefined"!=typeof Inferno?d.Outputs.Inferno:d.Outputs.Universal,d}();n["default"]=t,e.exports=n["default"]}])});